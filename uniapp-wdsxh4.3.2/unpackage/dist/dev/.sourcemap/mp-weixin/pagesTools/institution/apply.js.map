{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/pagesTools/institution/apply.vue?41b0","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/pagesTools/institution/apply.vue?6b26","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/pagesTools/institution/apply.vue?1329","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/pagesTools/institution/apply.vue?64e2","uni-app:///pagesTools/institution/apply.vue","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/pagesTools/institution/apply.vue?cc79","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/pagesTools/institution/apply.vue?1e7b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","selectLevel","data","pageShow","loadEnd","titleBarHeight","levelList","applyInfo","editorIns","toolbarConfig","excludeKeys","iconSize","showFullscreen","computed","themeColor","userMobile","mounted","onLoad","uni","title","mask","onShow","html","methods","pageChange","getApplyInfo","institution_id","id","name","state","icon","duration","console","getLevelList","openSelectLevel","changeLevel","overMax","initEditor","upinImage","imageList","result","editorCtx","src","width","success","toEditor","introduction","url","animationType","complete","exportHtml","prevPage","heandleSubmit","level_id","mode","path","bindPhoneNumber","provider","fail"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC4M;AAC5M,gBAAgB,gNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA+yB,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACiDn0B;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAL;MACA;MACAM;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC,4BACA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;EACA,GACA;EACAC;IAEA;IACA;IACA;EAEA;EACAC;IAAA;IACA;IACA;IACA;MACA;IACA;MACAC;QACAC;QACAC;MACA;MACA;QACA;QACAF;MACA;IACA;EACA;EACAG;IACA;IACA;MACA;MACA;QACAC;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;MACA;QACA;UACA;YACA;YACA;cACAC;cACAC;YACA;UACA;YACA;cAAAC;YAAA;UACA;UACA;QACA;UACA;UACAX;YACAC;YACAW;YACAC;UACA;QACA;MACA;QACA;QACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAP;MACA;QACA;UACA;YACA;cAAAC;cAAAC;YAAA;UACA;UACA;QACA;UACAV;YACAC;YACAW;UACA;QACA;MACA;QACAE;MACA;IACA;IACA;IACAE;MAAA;MACA;QACA;MACA;QACAhB;UACAC;UACAC;QACA;QACA;UACAF;UACA;QACA;MACA;IACA;IACA;IACAiB;MACA;IACA;IACA;IACAC;MACAlB;QACAC;MACA;IACA;IACA;IACAkB;MACA;MACA;QACAf;MACA;IACA;IACA;IACAgB;MACA;MAEAC;QAAA;MAAA;MAKArB;QACAC;QACAC;MACA;MACA;QACAoB;UACAC;YACAC;YACAC;YACAC;cACA1B;YACA;UACA;QACA;MACA;QACAc;MACA;IACA;IACA;IACAa;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA3B;kBACAC;kBACAC;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA0B;gBACA;gBACA5B;kBACA6B;kBACAC;kBACAC;oBACA/B;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAgC;MACA;MACA;MACAC;MACAjC;IACA;IACA;IACAkC;MAAA;MAAA;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,0BACA;kBAAA;kBAAA;gBAAA;gBACAlC;kBACAY;kBACAX;kBACAY;gBACA;gBAAA;cAAA;gBAGAb;kBACAC;kBACAC;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAA0B;gBACA;kBACApB;kBACA2B;kBACAP;gBACA;kBACA5B;kBACA;oBACA;sBACAoC;sBACAC;oBACA;kBACA;oBACArC;sBACAC;sBACAW;sBACAC;oBACA;kBACA;gBACA;kBACAb;kBACAc;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAwB;MAAA;MACA;QACAtC;UACAE;UACAD;QACA;QACAD;UACAuC;UACAb;YACA;YACA1C;YACA;cACAgB;cACA;gBACA;gBACA;cACA;gBACAA;kBACAC;kBACAW;kBACAC;gBACA;cACA;YACA;cACAb;cACAc;YACA;UACA;UACA0B;YACAxC;YACAA;cACAY;cACAX;YACA;UACA;QACA;MACA;QACAD;UACAC;UACAW;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChVA;AAAA;AAAA;AAAA;AAA8/C,CAAgB,y5CAAG,EAAC,C;;;;;;;;;;;ACAlhD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesTools/institution/apply.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesTools/institution/apply.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./apply.vue?vue&type=template&id=ce996866&\"\nvar renderjs\nimport script from \"./apply.vue?vue&type=script&lang=js&\"\nexport * from \"./apply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./apply.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesTools/institution/apply.vue\"\nexport default component.exports","export * from \"-!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./apply.vue?vue&type=template&id=ce996866&\"","var components\ntry {\n  components = {\n    spEditor: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/sp-editor/components/sp-editor/sp-editor\" */ \"@/uni_modules/sp-editor/components/sp-editor/sp-editor.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./apply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./apply.vue?vue&type=script&lang=js&\"","<!-- +----------------------------------------------------------------------\r\n| 麦沃德科技赋能开发者，助力商协会发展 \r\n+----------------------------------------------------------------------\r\n| Copyright (c) 2017～2024  www.wdsxh.cn    All rights reserved.\r\n+----------------------------------------------------------------------\r\n| 沃德商协会系统并不是自由软件，不加密，并不代表开源，未经许可不可自由转售和商用\r\n+----------------------------------------------------------------------\r\n| Author: MY WORLD Team <bd@maiwd.cn>   www.maiwd.cn\r\n+----------------------------------------------------------------------\r\n| 机构申请 开发者: 麦沃德科技-半夏 \r\n+---------------------------------------------------------------------- -->\r\n\r\n<template>\r\n\t<page-meta :page-style=\"'overflow:' + (pageShow ? 'hidden' : 'visible')\"></page-meta>\r\n\t<view class=\"container\">\r\n\t\t<!-- 标题栏 -->\r\n\t\t<title-bar :showBack=\"true\" title=\"申请加入\"></title-bar>\r\n\t\t<!-- 内容区 -->\r\n\t\t<view class=\"container-main\" v-if=\"loadEnd\">\r\n\t\t\t<view class=\"main-tips\" :style=\"{top: titleBarHeight + 'px'}\" v-if=\"applyInfo.state == 3\">驳回原因：{{applyInfo.reject}}</view>\r\n\t\t\t<view class=\"main-form\">\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<view class=\"item-title\"><text>*</text>选择级别</view>\r\n\t\t\t\t\t<view class=\"item-input\" @click=\"openSelectLevel()\">\r\n\t\t\t\t\t\t<view class=\"input text-ellipsis\" v-if=\"selectLevel.id\">{{selectLevel.name}}</view>\r\n\t\t\t\t\t\t<view class=\"input placeholder text-ellipsis\" v-else>请选择机构级别</view>\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<view class=\"item-title\">介绍</view>\r\n\t\t\t\t\t<view class=\"item-input\">\r\n\t\t\t\t\t\t<sp-editor ref=\"spEditor\" style=\"width: 100%;\" :toolbar-config=\"toolbarConfig\" @init=\"initEditor\" @upinImage=\"upinImage\" @overMax=\"overMax\" @fullscreen=\"toEditor\" @exportHtml=\"exportHtml\"></sp-editor>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"main-footer\">\r\n\t\t\t\t<view class=\"footer-btn\" :style=\"{background: themeColor}\" @click=\"heandleSubmit()\" v-if=\"userMobile\">提交申请</view>\r\n\t\t\t\t<button class=\"footer-btn clear\" :style=\"{background: themeColor}\" open-type=\"getPhoneNumber\" @getphonenumber=\"bindPhoneNumber\" v-else>提交申请</button>\r\n\t\t\t\t<view class=\"safe-padding\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 机构级别选择 -->\r\n\t\t<select-level ref=\"selectLevel\" title=\"选择级别\" @onChange=\"pageChange\" @confirm=\"changeLevel\"></select-level>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport selectLevel from \"@/pages/component/picker/select.vue\"\r\n\timport { mapState } from \"vuex\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tselectLevel,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 页面是否阻止滚动\r\n\t\t\t\tpageShow: false,\r\n\t\t\t\t// 加载完成\r\n\t\t\t\tloadEnd: false,\r\n\t\t\t\t// 标题栏高度\r\n\t\t\t\ttitleBarHeight: 0,\r\n\t\t\t\t// 机构级别列表\r\n\t\t\t\tlevelList: [],\r\n\t\t\t\t// 已选机构级别\r\n\t\t\t\tselectLevel: {},\r\n\t\t\t\t// 申请信息\r\n\t\t\t\tapplyInfo: {},\r\n\t\t\t\t// 编辑器实例\r\n\t\t\t\teditorIns: null,\r\n\t\t\t\t// 编辑器配置\r\n\t\t\t\ttoolbarConfig: {\r\n\t\t\t\t\texcludeKeys: ['direction', 'date', 'lineHeight', 'letterSpacing', 'listCheck', 'export'],\r\n\t\t\t\t\ticonSize: '18px',\r\n\t\t\t\t\tshowFullscreen: true,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tthemeColor: state => state.app.themeColor,\r\n\t\t\t\tuserMobile: state => state.user.mobile,\r\n\t\t\t})\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tlet statusBarHeight = uni.getSystemInfoSync().statusBarHeight\r\n\t\t\tlet menuButtonInfo = uni.getMenuButtonBoundingClientRect()\r\n\t\t\tthis.titleBarHeight = statusBarHeight + (menuButtonInfo.top - statusBarHeight) * 2 + menuButtonInfo.height\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.institutionId = option.id\r\n\t\t\tthis.getLevelList()\r\n\t\t\tif (option.state == -1) {\r\n\t\t\t\tthis.loadEnd = true\r\n\t\t\t} else {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t})\r\n\t\t\t\tthis.getApplyInfo(() => {\r\n\t\t\t\t\tthis.loadEnd = true\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet pages = getCurrentPages();\r\n\t\t\tif (pages[pages.length - 1].$vm.editorContent) {\r\n\t\t\t\tconst result = pages[pages.length - 1].$vm.editorContent\r\n\t\t\t\tthis.editorIns.setContents({\r\n\t\t\t\t\thtml: result || \"\"\r\n\t\t\t\t})\r\n\t\t\t\tdelete pages[pages.length - 1].$vm.editorContent;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 改变页面滚动状态\r\n\t\t\tpageChange(state) {\r\n\t\t\t\tthis.pageShow = state\r\n\t\t\t},\r\n\t\t\t// 获取申请信息\r\n\t\t\tgetApplyInfo(fn) {\r\n\t\t\t\tthis.$util.request(\"institution.applyDetails\", {\r\n\t\t\t\t\tinstitution_id: this.institutionId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\t\tthis.applyInfo = res.data\r\n\t\t\t\t\t\t\tthis.selectLevel = {\r\n\t\t\t\t\t\t\t\tid: res.data.level_id,\r\n\t\t\t\t\t\t\t\tname: res.data.level_name\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.applyInfo = { state: null }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (fn) fn()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (fn) fn()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tif (fn) fn()\r\n\t\t\t\t\tconsole.error('获取申请信息 ', error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取机构级别\r\n\t\t\tgetLevelList(fn) {\r\n\t\t\t\tthis.$util.request(\"institution.level\", {\r\n\t\t\t\t\tinstitution_id: this.institutionId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthis.levelList = res.data.map(item => {\r\n\t\t\t\t\t\t\treturn { id: item.id, name: item.level_name }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (fn) fn()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error('获取机构级别 ', error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择机构级别\r\n\t\t\topenSelectLevel() {\r\n\t\t\t\tif (this.levelList.length) {\r\n\t\t\t\t\tthis.$refs.selectLevel.open(this.levelList, this.selectLevel.id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.getLevelList(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.$refs.selectLevel.open(this.levelList, this.selectLevel.id)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 改变机构级别\r\n\t\t\tchangeLevel(value) {\r\n\t\t\t\tthis.selectLevel = value\r\n\t\t\t},\r\n\t\t\t// 超出最大内容限制\r\n\t\t\toverMax() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"输入内容已超过最大字数限制\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 初始化编辑器\r\n\t\t\tinitEditor(editor) {\r\n\t\t\t\tthis.editorIns = editor\r\n\t\t\t\tthis.editorIns.setContents({\r\n\t\t\t\t\thtml: this.applyInfo.introduction || \"\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传图片\r\n\t\t\tupinImage(tempFiles, editorCtx) {\r\n\t\t\t\tlet imageList = []\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\timageList = tempFiles.map(item => item.tempFilePath)\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t\timageList = tempFiles.map(item => item.path)\r\n\t\t\t\t// #endif\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '上传中请稍后',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.$util.uploadFileMultiple(imageList, [], 2).then(result => {\r\n\t\t\t\t\tresult.forEach((item) => {\r\n\t\t\t\t\t\teditorCtx.insertImage({\r\n\t\t\t\t\t\t\tsrc: item,\r\n\t\t\t\t\t\t\twidth: '80%',\r\n\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.error('上传图片 ', error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 跳转编辑器页面\r\n\t\t\tasync toEditor() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t})\r\n\t\t\t\tconst introduction = await this.$refs.spEditor.getHtml()\r\n\t\t\t\tthis.$store.commit('app/setEditorContent', introduction)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pagesTools/institution/editor\",\r\n\t\t\t\t\tanimationType: \"fade-in\",\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 完成编辑\r\n\t\t\texportHtml(e) {\r\n\t\t\t\tlet pages = getCurrentPages()\r\n\t\t\t\tlet prevPage = pages[pages.length - 2]\r\n\t\t\t\tprevPage.$vm.editorContent = e\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\t// 提交申请\r\n\t\t\tasync heandleSubmit() {\r\n\t\t\t\tif (!this.selectLevel?.id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"机构级别不能为空\",\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t})\r\n\t\t\t\tconst introduction = await this.$refs.spEditor.getHtml()\r\n\t\t\t\tthis.$util.request(\"institution.apply\", {\r\n\t\t\t\t\tinstitution_id: this.institutionId,\r\n\t\t\t\t\tlevel_id: this.selectLevel.id,\r\n\t\t\t\t\tintroduction: introduction,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthis.$util.toPage({\r\n\t\t\t\t\t\t\tmode: 2,\r\n\t\t\t\t\t\t\tpath: \"/pagesTools/institution/success\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tconsole.error('申请加入机构 ', error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 绑定手机号\r\n\t\t\tbindPhoneNumber(e) {\r\n\t\t\t\tif (e.detail.errMsg == \"getPhoneNumber:ok\") {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\tsuccess: loginRes => {\r\n\t\t\t\t\t\t\tlet data = e.detail\r\n\t\t\t\t\t\t\tdata.code = loginRes.code\r\n\t\t\t\t\t\t\tthis.$util.request(\"login.bindMobile\", data).then(res => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\t\t\tthis.$store.commit('user/updateMobile', res.data.phoneNumber)\r\n\t\t\t\t\t\t\t\t\tthis.heandleSubmit()\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\tconsole.error('获取用户手机号码 ', error)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\ttitle: \"授权手机号失败，请重试\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取手机号失败，请重新获取',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\t.container-main {\r\n\t\t\tpadding-bottom: 192rpx;\r\n\r\n\t\t\t.main-tips {\r\n\t\t\t\tcolor: #FFF;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tline-height: 34rpx;\r\n\t\t\t\tpadding: 30rpx 32rpx;\r\n\t\t\t\tbackground: #FF6868;\r\n\t\t\t}\r\n\r\n\t\t\t.main-form {\r\n\t\t\t\tpadding: 22rpx 32rpx 32rpx;\r\n\r\n\t\t\t\t.form-item {\r\n\t\t\t\t\tmargin-bottom: 32rpx;\r\n\r\n\t\t\t\t\t.item-title {\r\n\t\t\t\t\t\tcolor: #5A5B6E;\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tline-height: 44rpx;\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tcolor: #E60012;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.item-input {\r\n\t\t\t\t\t\tmargin-top: 32rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t.input {\r\n\t\t\t\t\t\t\tcolor: #5A5B6E;\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\tpadding: 32rpx;\r\n\t\t\t\t\t\t\tmin-height: 104rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.placeholder {\r\n\t\t\t\t\t\t\tcolor: #ACADB7;\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.icon {\r\n\t\t\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\t\tpadding-right: 32rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.main-footer {\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tz-index: 96;\r\n\t\t\t\tbackground: #ffffff;\r\n\t\t\t\tborder-top: 1rpx solid #F6F7FB;\r\n\t\t\t\tpadding: 12rpx 24rpx;\r\n\r\n\t\t\t\t.footer-btn {\r\n\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tline-height: 44rpx;\r\n\t\t\t\t\tpadding: 22rpx 24rpx;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tbackground: var(--theme-color);\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./apply.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./apply.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1756370168063\n      var cssReload = require(\"D:/Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}