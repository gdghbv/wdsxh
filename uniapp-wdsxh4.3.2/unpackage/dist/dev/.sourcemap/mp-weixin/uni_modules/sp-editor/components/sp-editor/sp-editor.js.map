{"version":3,"sources":["webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/uni_modules/sp-editor/components/sp-editor/sp-editor.vue?6da4","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/uni_modules/sp-editor/components/sp-editor/sp-editor.vue?320b","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/uni_modules/sp-editor/components/sp-editor/sp-editor.vue?ba1c","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/uni_modules/sp-editor/components/sp-editor/sp-editor.vue?2a5c","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/uni_modules/sp-editor/components/sp-editor/sp-editor.vue?1333","uni-app:///uni_modules/sp-editor/components/sp-editor/sp-editor.vue","webpack:///D:/Projects/实习文件-惠爱/惠爱商协会/uniapp-wdsxh4.3.2/uni_modules/sp-editor/components/sp-editor/sp-editor.vue?edd8"],"names":["components","ColorPicker","LinkEdit","FabTool","props","editorId","type","default","placeholder","readOnly","maxlength","toolbarConfig","keys","excludeKeys","iconSize","iconColumns","showFullscreen","watch","deep","immediate","handler","data","formats","curFab","fabXY","textColor","backgroundColor","curColor","defaultColor","r","g","b","a","toolbarList","toolbarAllList","fabTools","header","title","name","value","icon","fontFamily","fontSize","align","lineHeight","space","computed","themeColor","methods","onEditorReady","uni","createSelectorQuery","in","select","context","exec","undo","redo","format","fabTap","fabTapSub","showPicker","confirmColor","onStatusChange","insertDivider","clear","content","success","removeFormat","showCancel","insertDate","text","insertLink","confirmLink","html","insertImage","mediaType","fail","insertVideo","sourceType","onEditorInput","confirmText","eLongpress","fullscreen","exportHtml","getHtml","resolve","reject"],"mappings":";;;;;;;;;AAAA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACkN;AAClN,gBAAgB,gNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvGA;AAAA;AAAA;AAAA;AAAi1B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC4Jr2B;AACA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,gBAEA;EACAA;IACAC;IACAC;IACAC;EACA;EACAC;IACA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;QACA;UACAK;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;QACA;MACA;IACA;EACA;;EACAC;IACAN;MACAO;MACAC;MACAC;QAAA;QACA;AACA;AACA;AACA;AACA;QACA;UACA;QACA;UAAA;UACA,mBACA,8IACA;YAAA;UAAA,KACA;QACA;QACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MAAA;MACAlB;MAAA;MACAC;MAAA;MACAkB;MACAC,iBACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA,CACA;;MACAC;QACAC,SACA;UAAAC;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,aACA;UAAAJ;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAE,WACA;UAAAL;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAG,QACA;UAAAN;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAI,aACA;UAAAP;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACA;QACAK,QACA;UAAAR;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA;MAEA;IACA;EACA;EACAM,4BACA;IACAC;MAAA;IAAA;EACA,GACA;EACAC;IACAC;MAAA;MACAC,IACAC,sBACAC,SACAC,4BACAC;QACA;QACA;MACA,GACAC;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QAAApB;QAAAC;MACA;MACA;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IACA;IACAoB;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;UACA,qCACA;YAAAhC;YAAAC;YAAAC;YAAAC;UAAA;UACA;QACA;UACA,2CACA;YAAAH;YAAAC;YAAAC;YAAAC;UAAA;UACA;MAAA;MAEA;IACA;IACA8B;MACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;MAAA;IAEA;IACAC;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACAf;QACAb;QACA6B;QACAC;UAAA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACAlB;QACAb;QACA6B;QACAG;QACAF;UAAA;UACA;YACA;UACA;QACA;MACA;IACA;IACAG;MACA;MACA;MACA;QAAAC;MAAA;IACA;IACAC;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;QACA;QACA;UACAN;YACA;cAAAO;cAAAH;YAAA;UACA;QACA;MACA;MACA;IACA;IACAI;MAAA;MAmBA;MACAzB;QACA;QACA0B;QACAT;UACA;UACA;UACA;QACA;QACAU;UACA3B;YACAb;YACAG;UACA;QACA;MACA;IAEA;IACAsC;MAAA;MACA5B;QACA6B;QACAZ;UACA;UACA;UACA;QACA;QACAU;UACA3B;YACAb;YACAG;UACA;QACA;MACA;IACA;IACAwC;MAAA;MACA;MACA;MACA;MACA;QAAAN;QAAAH;MACA;MACA;MAEA;MACA;MACA;QACArB;UACAgB;UACAe;UACAZ;UACAF;YACA;cAAAO;cAAAH;YAAA;UACA;QACA;MACA;QACA;UAAAG;UAAAH;QAAA;MACA;IACA;IACAW;MACA;AACA;AACA;AACA;IAHA,CAIA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAjB;UACA;QACA;MACA;IACA;IACA;IACAkB;MAAA;MACA;QACA;UACAlB;YACAmB;UACA;UACAT;YACAU;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC5jBA;AAAA;AAAA;AAAA;AAAwjD,CAAgB,65CAAG,EAAC,C","file":"uni_modules/sp-editor/components/sp-editor/sp-editor.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1756370169595\n      var cssReload = require(\"D:/Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./sp-editor.vue?vue&type=template&id=938741ae&\"\nvar renderjs\nimport script from \"./sp-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./sp-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sp-editor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/sp-editor/components/sp-editor/sp-editor.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sp-editor.vue?vue&type=template&id=938741ae&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.readOnly ? _vm.toolbarList.includes(\"header\") : null\n  var l0 = _vm.__map(_vm.fabTools.header, function (item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n    var g1 = _vm.toolbarList.includes(item.name)\n    return {\n      $orig: $orig,\n      g1: g1,\n    }\n  })\n  var g2 = !_vm.readOnly ? _vm.toolbarList.includes(\"bold\") : null\n  var g3 = !_vm.readOnly ? _vm.toolbarList.includes(\"italic\") : null\n  var g4 = !_vm.readOnly ? _vm.toolbarList.includes(\"underline\") : null\n  var g5 = !_vm.readOnly ? _vm.toolbarList.includes(\"strike\") : null\n  var g6 = !_vm.readOnly ? _vm.toolbarList.includes(\"align\") : null\n  var l1 = _vm.__map(_vm.fabTools.align, function (item, __i1__) {\n    var $orig = _vm.__get_orig(item)\n    var g7 = _vm.toolbarList.includes(item.name)\n    return {\n      $orig: $orig,\n      g7: g7,\n    }\n  })\n  var g8 = !_vm.readOnly ? _vm.toolbarList.includes(\"lineHeight\") : null\n  var g9 = !_vm.readOnly ? _vm.toolbarList.includes(\"letterSpacing\") : null\n  var g10 = !_vm.readOnly ? _vm.toolbarList.includes(\"marginTop\") : null\n  var g11 = !_vm.readOnly ? _vm.toolbarList.includes(\"marginBottom\") : null\n  var g12 = !_vm.readOnly ? _vm.toolbarList.includes(\"fontFamily\") : null\n  var g13 = !_vm.readOnly ? _vm.toolbarList.includes(\"fontSize\") : null\n  var g14 = !_vm.readOnly ? _vm.toolbarList.includes(\"color\") : null\n  var g15 = !_vm.readOnly ? _vm.toolbarList.includes(\"backgroundColor\") : null\n  var g16 = !_vm.readOnly ? _vm.toolbarList.includes(\"date\") : null\n  var g17 = !_vm.readOnly ? _vm.toolbarList.includes(\"listCheck\") : null\n  var g18 = !_vm.readOnly ? _vm.toolbarList.includes(\"listOrdered\") : null\n  var g19 = !_vm.readOnly ? _vm.toolbarList.includes(\"listBullet\") : null\n  var g20 = !_vm.readOnly ? _vm.toolbarList.includes(\"divider\") : null\n  var g21 = !_vm.readOnly ? _vm.toolbarList.includes(\"indentDec\") : null\n  var g22 = !_vm.readOnly ? _vm.toolbarList.includes(\"indentInc\") : null\n  var g23 = !_vm.readOnly ? _vm.toolbarList.includes(\"scriptSub\") : null\n  var g24 = !_vm.readOnly ? _vm.toolbarList.includes(\"scriptSuper\") : null\n  var g25 = !_vm.readOnly ? _vm.toolbarList.includes(\"direction\") : null\n  var g26 = !_vm.readOnly ? _vm.toolbarList.includes(\"image\") : null\n  var g27 = !_vm.readOnly ? _vm.toolbarList.includes(\"video\") : null\n  var g28 = !_vm.readOnly ? _vm.toolbarList.includes(\"link\") : null\n  var g29 = !_vm.readOnly ? _vm.toolbarList.includes(\"undo\") : null\n  var g30 = !_vm.readOnly ? _vm.toolbarList.includes(\"redo\") : null\n  var g31 = !_vm.readOnly ? _vm.toolbarList.includes(\"removeFormat\") : null\n  var g32 = !_vm.readOnly ? _vm.toolbarList.includes(\"clear\") : null\n  var g33 = !_vm.readOnly ? _vm.toolbarList.includes(\"export\") : null\n  var g34 =\n    _vm.toolbarList.includes(\"color\") ||\n    _vm.toolbarList.includes(\"backgroundColor\")\n  var g35 = _vm.toolbarList.includes(\"link\") && !_vm.readOnly\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        l1: l1,\n        g8: g8,\n        g9: g9,\n        g10: g10,\n        g11: g11,\n        g12: g12,\n        g13: g13,\n        g14: g14,\n        g15: g15,\n        g16: g16,\n        g17: g17,\n        g18: g18,\n        g19: g19,\n        g20: g20,\n        g21: g21,\n        g22: g22,\n        g23: g23,\n        g24: g24,\n        g25: g25,\n        g26: g26,\n        g27: g27,\n        g28: g28,\n        g29: g29,\n        g30: g30,\n        g31: g31,\n        g32: g32,\n        g33: g33,\n        g34: g34,\n        g35: g35,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sp-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sp-editor.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"sp-editor\" :style=\"{ '--icon-size': iconSize, '--icon-columns': iconColumns,  '--theme-color': themeColor }\">\r\n\t\t<view class=\"sp-editor-toolbar\" v-if=\"!readOnly\" @tap=\"format\">\r\n\t\t\t<!-- 标题栏 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('header')\" :visible=\"curFab == 'header'\">\r\n\t\t\t\t<view :class=\"formats.header ? 'ql-active' : ''\" class=\"iconfont icon-header\" title=\"标题\" data-name=\"header\" @click.stop=\"fabTap('header')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'header')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.header\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view v-if=\"toolbarList.includes(item.name)\" class=\"fab-sub\" :class=\"[formats.header === item.value ? 'ql-active' : '', item.icon ? 'iconfont' : '', item.icon]\" :title=\"item.title\" data-name=\"header\" :data-value=\"item.value\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<view v-if=\"toolbarList.includes('bold')\" :class=\"formats.bold ? 'ql-active' : ''\" class=\"iconfont icon-zitijiacu\" title=\"加粗\" data-name=\"bold\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('italic')\" :class=\"formats.italic ? 'ql-active' : ''\" class=\"iconfont icon-zitixieti\" title=\"斜体\" data-name=\"italic\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('underline')\" :class=\"formats.underline ? 'ql-active' : ''\" class=\"iconfont icon-zitixiahuaxian\" title=\"下划线\" data-name=\"underline\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('strike')\" :class=\"formats.strike ? 'ql-active' : ''\" class=\"iconfont icon-zitishanchuxian\" title=\"删除线\" data-name=\"strike\"></view>\r\n\t\t\t<!-- 对齐方式 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('align')\" :visible=\"curFab == 'align'\">\r\n\t\t\t\t<view :class=\"formats.align ? 'ql-active' : ''\" class=\"iconfont icon-zuoyouduiqi\" title=\"对齐方式\" data-name=\"align\" @click.stop=\"fabTap('align')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'align')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.align\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view v-if=\"toolbarList.includes(item.name)\" class=\"fab-sub\" :class=\"[formats.align === item.value ? 'ql-active' : '', item.icon ? 'iconfont' : '', item.icon]\" :title=\"item.title\" data-name=\"align\" :data-value=\"item.value\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<!-- 行间距 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('lineHeight')\" :visible=\"curFab == 'lineHeight'\">\r\n\t\t\t\t<view :class=\"formats.lineHeight ? 'ql-active' : ''\" class=\"iconfont icon-line-height\" title=\"行间距\" data-name=\"lineHeight\" @click.stop=\"fabTap('lineHeight')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'lineHeight')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.lineHeight\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view class=\"fab-sub\" :class=\"[formats.lineHeight === item.value ? 'ql-active' : '', item.icon ? 'iconfont' : '', item.icon]\" :title=\"item.title\" data-name=\"lineHeight\" :data-value=\"item.value\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<!-- 字间距 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('letterSpacing')\" :visible=\"curFab == 'letterSpacing'\">\r\n\t\t\t\t<view :class=\"formats.letterSpacing ? 'ql-active' : ''\" class=\"iconfont icon-Character-Spacing\" title=\"字间距\" data-name=\"letterSpacing\" @click.stop=\"fabTap('letterSpacing')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'letterSpacing')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.space\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view class=\"fab-sub\" :class=\"[\r\n\t\t\t\t\t\t\t\t\tformats.letterSpacing === item.value ? 'ql-active' : '',\r\n\t\t\t\t\t\t\t\t\titem.icon ? 'iconfont' : '',\r\n\t\t\t\t\t\t\t\t\titem.icon\r\n\t\t\t\t\t\t\t\t]\" :title=\"item.title\" data-name=\"letterSpacing\" :data-value=\"item.value\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<!-- 段前距 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('marginTop')\" :visible=\"curFab == 'marginTop'\">\r\n\t\t\t\t<view :class=\"formats.marginTop ? 'ql-active' : ''\" class=\"iconfont icon-722bianjiqi_duanqianju\" title=\"段前距\" data-name=\"marginTop\" @click.stop=\"fabTap('marginTop')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'marginTop')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.space\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view class=\"fab-sub\" :class=\"[formats.marginTop === item.value ? 'ql-active' : '', item.icon ? 'iconfont' : '', item.icon]\" :title=\"item.title\" data-name=\"marginTop\" :data-value=\"item.value\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<!-- 段后距 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('marginBottom')\" :visible=\"curFab == 'marginBottom'\">\r\n\t\t\t\t<view :class=\"formats.marginBottom ? 'ql-active' : ''\" class=\"iconfont icon-723bianjiqi_duanhouju\" title=\"段后距\" data-name=\"marginBottom\" @click.stop=\"fabTap('marginBottom')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'marginBottom')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.space\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view class=\"fab-sub\" :class=\"[\r\n\t\t\t\t\t\t\t\t\tformats.marginBottom === item.value ? 'ql-active' : '',\r\n\t\t\t\t\t\t\t\t\titem.icon ? 'iconfont' : '',\r\n\t\t\t\t\t\t\t\t\titem.icon\r\n\t\t\t\t\t\t\t\t]\" :title=\"item.title\" data-name=\"marginBottom\" :data-value=\"item.value\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<!-- 字体栏 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('fontFamily')\" :visible=\"curFab == 'fontFamily'\">\r\n\t\t\t\t<view :class=\"formats.fontFamily ? 'ql-active' : ''\" class=\"iconfont icon-font\" title=\"字体\" data-name=\"fontFamily\" @click.stop=\"fabTap('fontFamily')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'fontFamily')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.fontFamily\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view class=\"fab-sub\" :class=\"[formats.fontFamily === item.value ? 'ql-active' : '', item.icon ? 'iconfont' : '', item.icon]\" :title=\"item.title\" data-name=\"fontFamily\" :data-value=\"item.value\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<!-- 字体大小栏 -->\r\n\t\t\t<fab-tool v-if=\"toolbarList.includes('fontSize')\" :visible=\"curFab == 'fontSize'\">\r\n\t\t\t\t<view :class=\"formats.fontSize ? 'ql-active' : ''\" class=\"iconfont icon-fontsize\" title=\"字号\" data-name=\"fontSize\" @click.stop=\"fabTap('fontSize')\"></view>\r\n\t\t\t\t<template #content>\r\n\t\t\t\t\t<view class=\"fab-tools\" @click.stop=\"fabTapSub($event, 'fontSize')\">\r\n\t\t\t\t\t\t<view v-for=\"item in fabTools.fontSize\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<view class=\"fab-sub\" :class=\"[formats.fontSize === item.value ? 'ql-active' : '', item.icon ? 'iconfont' : '', item.icon]\" :title=\"item.title\" data-name=\"fontSize\" :data-value=\"item.value\">\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</fab-tool>\r\n\t\t\t<view v-if=\"toolbarList.includes('color')\" :style=\"{ color: formats.color ? textColor : 'initial' }\" class=\"iconfont icon-text_color\" title=\"文字颜色\" data-name=\"color\" :data-value=\"textColor\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('backgroundColor')\" :style=\"{ color: formats.backgroundColor ? backgroundColor : 'initial' }\" class=\"iconfont icon-fontbgcolor\" title=\"背景颜色\" data-name=\"backgroundColor\" :data-value=\"backgroundColor\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('date')\" class=\"iconfont icon-date\" title=\"日期\" @tap=\"insertDate\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('listCheck')\" class=\"iconfont icon--checklist\" title=\"待办\" data-name=\"list\" data-value=\"check\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('listOrdered')\" :class=\"formats.list === 'ordered' ? 'ql-active' : ''\" class=\"iconfont icon-youxupailie\" title=\"有序列表\" data-name=\"list\" data-value=\"ordered\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('listBullet')\" :class=\"formats.list === 'bullet' ? 'ql-active' : ''\" class=\"iconfont icon-wuxupailie\" title=\"无序列表\" data-name=\"list\" data-value=\"bullet\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('divider')\" class=\"iconfont icon-fengexian\" title=\"分割线\" @click=\"insertDivider\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('indentDec')\" class=\"iconfont icon-outdent\" title=\"减少缩进\" data-name=\"indent\" data-value=\"-1\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('indentInc')\" class=\"iconfont icon-indent\" title=\"增加缩进\" data-name=\"indent\" data-value=\"+1\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('scriptSub')\" :class=\"formats.script === 'sub' ? 'ql-active' : ''\" class=\"iconfont icon-zitixiabiao\" title=\"下标\" data-name=\"script\" data-value=\"sub\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('scriptSuper')\" :class=\"formats.script === 'super' ? 'ql-active' : ''\" class=\"iconfont icon-zitishangbiao\" title=\"上标\" data-name=\"script\" data-value=\"super\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('direction')\" :class=\"formats.direction === 'rtl' ? 'ql-active' : ''\" class=\"iconfont icon-direction-rtl\" title=\"文本方向\" data-name=\"direction\" data-value=\"rtl\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('image')\" class=\"iconfont icon-charutupian\" title=\"图片\" @tap=\"insertImage\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('video')\" class=\"iconfont icon-video\" title=\"视频\" @tap=\"insertVideo\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('link')\" class=\"iconfont icon-charulianjie\" title=\"超链接\" @tap=\"insertLink\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('undo')\" class=\"iconfont icon-undo\" title=\"撤销\" @tap=\"undo\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('redo')\" class=\"iconfont icon-redo\" title=\"重做\" @tap=\"redo\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('removeFormat')\" class=\"iconfont icon-clearedformat\" title=\"清除格式\" @tap=\"removeFormat\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('clear')\" class=\"iconfont icon-shanchu\" title=\"清空\" @tap=\"clear\"></view>\r\n\t\t\t<view v-if=\"toolbarConfig.showFullscreen\" class=\"iconfont icon-quanping\" title=\"全屏\" @tap=\"fullscreen\"></view>\r\n\t\t\t<view v-if=\"toolbarList.includes('export')\" class=\"submit-footer\" title=\"导出\" @tap=\"exportHtml\">\r\n\t\t\t\t<view class=\"footer-btn\">保存</view>\r\n\t\t\t\t<view class=\"footer-space\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 自定义功能组件 -->\r\n\t\t<!-- 调色板 -->\r\n\t\t<color-picker v-if=\"toolbarList.includes('color') || toolbarList.includes('backgroundColor')\" ref=\"colorPickerRef\" :color=\"defaultColor\" @confirm=\"confirmColor\"></color-picker>\r\n\t\t<!-- 添加链接的操作弹窗 -->\r\n\t\t<link-edit v-if=\"toolbarList.includes('link') && !readOnly\" ref=\"linkEditRef\" @confirm=\"confirmLink\"></link-edit>\r\n\t\t<view class=\"sp-editor-wrapper\" @longpress=\"eLongpress\">\r\n\t\t\t<editor :id=\"editorId\" class=\"ql-editor editor-container\" :class=\"{ 'ql-image-overlay-none': readOnly }\" show-img-size show-img-toolbar show-img-resize :placeholder=\"placeholder\" :read-only=\"readOnly\" @statuschange=\"onStatusChange\" @ready=\"onEditorReady\" @input=\"onEditorInput\"></editor>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport ColorPicker from './color-picker.vue'\r\n\timport LinkEdit from './link-edit.vue'\r\n\timport FabTool from './fab-tool.vue'\r\n\timport { addLink, linkFlag } from '../../utils'\r\n\timport { mapState } from \"vuex\"\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tColorPicker,\r\n\t\t\tLinkEdit,\r\n\t\t\tFabTool\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t// 编辑器id可传入，以便循环组件使用，防止id重复\r\n\t\t\teditorId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'editor'\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '写点什么吧 ~'\r\n\t\t\t},\r\n\t\t\t// 是否只读\r\n\t\t\treadOnly: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// 最大字数限制，-1不限\r\n\t\t\tmaxlength: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\t// 工具栏配置\r\n\t\t\ttoolbarConfig: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkeys: [], // 要显示的工具，优先级最大\r\n\t\t\t\t\t\texcludeKeys: [], // 除这些指定的工具外，其他都显示\r\n\t\t\t\t\t\ticonSize: '18px', // 工具栏字体大小\r\n\t\t\t\t\t\ticonColumns: 10, // 工具栏列数\r\n\t\t\t\t\t\tshowFullscreen: false, // 是否存在全屏\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\ttoolbarConfig: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(newToolbar) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * 若工具栏配置中keys存在，则以keys为准\r\n\t\t\t\t\t * 否则以excludeKeys向toolbarAllList中排查\r\n\t\t\t\t\t * 若keys与excludeKeys皆为空，则以toolbarAllList为准\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif (newToolbar.keys?.length > 0) {\r\n\t\t\t\t\t\tthis.toolbarList = newToolbar.keys\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.toolbarList =\r\n\t\t\t\t\t\t\tnewToolbar.excludeKeys?.length > 0 ?\r\n\t\t\t\t\t\t\tthis.toolbarAllList.filter((item) => !newToolbar.excludeKeys.includes(item)) :\r\n\t\t\t\t\t\t\tthis.toolbarAllList\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.iconSize = newToolbar.iconSize || '18px'\r\n\t\t\t\t\tthis.iconColumns = newToolbar.iconColumns || 10\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tformats: {},\r\n\t\t\t\tcurFab: '', // 当前悬浮工具栏\r\n\t\t\t\tfabXY: {},\r\n\t\t\t\ttextColor: '',\r\n\t\t\t\tbackgroundColor: '',\r\n\t\t\t\tcurColor: '',\r\n\t\t\t\tdefaultColor: { r: 0, g: 0, b: 0, a: 1 }, // 调色板默认颜色\r\n\t\t\t\ticonSize: '20px', // 工具栏图标字体大小\r\n\t\t\t\ticonColumns: 10, // 工具栏列数\r\n\t\t\t\ttoolbarList: [],\r\n\t\t\t\ttoolbarAllList: [\r\n\t\t\t\t\t'header', // 标题\r\n\t\t\t\t\t'H1', // 一级标题\r\n\t\t\t\t\t'H2', // 二级标题\r\n\t\t\t\t\t'H3', // 三级标题\r\n\t\t\t\t\t'H4', // 四级标题\r\n\t\t\t\t\t'H5', // 五级标题\r\n\t\t\t\t\t'H6', // 六级标题\r\n\t\t\t\t\t'bold', // 加粗\r\n\t\t\t\t\t'italic', // 斜体\r\n\t\t\t\t\t'underline', // 下划线\r\n\t\t\t\t\t'strike', // 删除线\r\n\t\t\t\t\t'align', // 对齐方式\r\n\t\t\t\t\t'alignLeft', // 左对齐\r\n\t\t\t\t\t'alignCenter', // 居中对齐\r\n\t\t\t\t\t'alignRight', // 右对齐\r\n\t\t\t\t\t'alignJustify', // 两端对齐\r\n\t\t\t\t\t'lineHeight', // 行间距\r\n\t\t\t\t\t'letterSpacing', // 字间距\r\n\t\t\t\t\t'marginTop', // 段前距\r\n\t\t\t\t\t'marginBottom', // 段后距\r\n\t\t\t\t\t'fontFamily', // 字体\r\n\t\t\t\t\t'fontSize', // 字号\r\n\t\t\t\t\t'color', // 文字颜色\r\n\t\t\t\t\t'backgroundColor', // 背景颜色\r\n\t\t\t\t\t'date', // 日期\r\n\t\t\t\t\t'listCheck', // 待办\r\n\t\t\t\t\t'listOrdered', // 有序列表\r\n\t\t\t\t\t'listBullet', // 无序列表\r\n\t\t\t\t\t'indentInc', // 增加缩进\r\n\t\t\t\t\t'indentDec', // 减少缩进\r\n\t\t\t\t\t'divider', // 分割线\r\n\t\t\t\t\t'scriptSub', // 下标\r\n\t\t\t\t\t'scriptSuper', // 上标\r\n\t\t\t\t\t'direction', // 文本方向\r\n\t\t\t\t\t'image', // 图片\r\n\t\t\t\t\t'video', // 视频\r\n\t\t\t\t\t'link', // 超链接\r\n\t\t\t\t\t'undo', // 撤销\r\n\t\t\t\t\t'redo', // 重做\r\n\t\t\t\t\t'removeFormat', // 清除格式\r\n\t\t\t\t\t'clear', // 清空\r\n\t\t\t\t\t'export' // 导出\r\n\t\t\t\t],\r\n\t\t\t\tfabTools: {\r\n\t\t\t\t\theader: [\r\n\t\t\t\t\t\t{ title: '一级标题', name: 'H1', value: 1, icon: 'icon-format-header-1' },\r\n\t\t\t\t\t\t{ title: '二级标题', name: 'H2', value: 2, icon: 'icon-format-header-2' },\r\n\t\t\t\t\t\t{ title: '三级标题', name: 'H3', value: 3, icon: 'icon-format-header-3' },\r\n\t\t\t\t\t\t{ title: '四级标题', name: 'H4', value: 4, icon: 'icon-format-header-4' },\r\n\t\t\t\t\t\t{ title: '五级标题', name: 'H5', value: 5, icon: 'icon-format-header-5' },\r\n\t\t\t\t\t\t{ title: '六级标题', name: 'H6', value: 6, icon: 'icon-format-header-6' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tfontFamily: [\r\n\t\t\t\t\t\t{ title: '宋体', name: '宋', value: '宋体', icon: '' },\r\n\t\t\t\t\t\t{ title: '黑体', name: '黑', value: '黑体', icon: '' },\r\n\t\t\t\t\t\t{ title: '楷体', name: '楷', value: '楷体', icon: '' },\r\n\t\t\t\t\t\t{ title: '仿宋', name: '仿', value: '仿宋', icon: '' },\r\n\t\t\t\t\t\t{ title: '华文隶书', name: '隶', value: 'STLiti', icon: '' },\r\n\t\t\t\t\t\t{ title: '华文行楷', name: '行', value: 'STXingkai', icon: '' },\r\n\t\t\t\t\t\t{ title: '幼圆', name: '圆', value: 'YouYuan', icon: '' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tfontSize: [\r\n\t\t\t\t\t\t{ title: '12', name: '12', value: '12px', icon: '' },\r\n\t\t\t\t\t\t{ title: '14', name: '14', value: '14px', icon: '' },\r\n\t\t\t\t\t\t{ title: '16', name: '16', value: '16px', icon: '' },\r\n\t\t\t\t\t\t{ title: '18', name: '18', value: '18px', icon: '' },\r\n\t\t\t\t\t\t{ title: '20', name: '20', value: '20px', icon: '' },\r\n\t\t\t\t\t\t{ title: '22', name: '22', value: '22px', icon: '' },\r\n\t\t\t\t\t\t{ title: '24', name: '24', value: '24px', icon: '' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\talign: [\r\n\t\t\t\t\t\t{ title: '左对齐', name: 'alignLeft', value: 'left', icon: 'icon-zuoduiqi' },\r\n\t\t\t\t\t\t{ title: '居中对齐', name: 'alignCenter', value: 'center', icon: 'icon-juzhongduiqi' },\r\n\t\t\t\t\t\t{ title: '右对齐', name: 'alignRight', value: 'right', icon: 'icon-youduiqi' },\r\n\t\t\t\t\t\t{ title: '两端对齐', name: 'alignJustify', value: 'justify', icon: 'icon-zuoyouduiqi' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlineHeight: [\r\n\t\t\t\t\t\t{ title: '1倍', name: '1', value: '1', icon: '' },\r\n\t\t\t\t\t\t{ title: '1.5倍', name: '1.5', value: '1.5', icon: '' },\r\n\t\t\t\t\t\t{ title: '2倍', name: '2', value: '2', icon: '' },\r\n\t\t\t\t\t\t{ title: '2.5倍', name: '2.5', value: '2.5', icon: '' },\r\n\t\t\t\t\t\t{ title: '3倍', name: '3', value: '3', icon: '' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\t// 字间距/段前距/段后距\r\n\t\t\t\t\tspace: [\r\n\t\t\t\t\t\t{ title: '0.5倍', name: '0.5', value: '0.5em', icon: '' },\r\n\t\t\t\t\t\t{ title: '1倍', name: '1', value: '1em', icon: '' },\r\n\t\t\t\t\t\t{ title: '1.5倍', name: '1.5', value: '1.5em', icon: '' },\r\n\t\t\t\t\t\t{ title: '2倍', name: '2', value: '2em', icon: '' },\r\n\t\t\t\t\t\t{ title: '2.5倍', name: '2.5', value: '2.5em', icon: '' },\r\n\t\t\t\t\t\t{ title: '3倍', name: '3', value: '3em', icon: '' }\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tthemeColor: state => state.app.themeColor,\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonEditorReady() {\r\n\t\t\t\tuni\r\n\t\t\t\t\t.createSelectorQuery()\r\n\t\t\t\t\t.in(this)\r\n\t\t\t\t\t.select('#' + this.editorId)\r\n\t\t\t\t\t.context((res) => {\r\n\t\t\t\t\t\tthis.editorCtx = res.context\r\n\t\t\t\t\t\tthis.$emit('init', this.editorCtx, this.editorId)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.exec()\r\n\t\t\t},\r\n\t\t\tundo() {\r\n\t\t\t\tthis.editorCtx.undo()\r\n\t\t\t},\r\n\t\t\tredo() {\r\n\t\t\t\tthis.editorCtx.redo()\r\n\t\t\t},\r\n\t\t\tformat(e) {\r\n\t\t\t\tlet { name, value } = e.target.dataset\r\n\t\t\t\tif (!name) return\r\n\t\t\t\tswitch (name) {\r\n\t\t\t\t\tcase 'color':\r\n\t\t\t\t\tcase 'backgroundColor':\r\n\t\t\t\t\t\tthis.curColor = name\r\n\t\t\t\t\t\tthis.showPicker()\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.editorCtx.format(name, value)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 悬浮工具点击\r\n\t\t\tfabTap(fabType) {\r\n\t\t\t\tif (this.curFab != fabType) {\r\n\t\t\t\t\tthis.curFab = fabType\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.curFab = ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 悬浮工具子集点击\r\n\t\t\tfabTapSub(e, fabType) {\r\n\t\t\t\tthis.format(e)\r\n\t\t\t\tthis.fabTap(fabType)\r\n\t\t\t},\r\n\t\t\tshowPicker() {\r\n\t\t\t\tswitch (this.curColor) {\r\n\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\tthis.defaultColor = this.textColor ?\r\n\t\t\t\t\t\t\tthis.$refs.colorPickerRef.hex2Rgb(this.textColor) : { r: 0, g: 0, b: 0, a: 1 }\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'backgroundColor':\r\n\t\t\t\t\t\tthis.defaultColor = this.backgroundColor ?\r\n\t\t\t\t\t\t\tthis.$refs.colorPickerRef.hex2Rgb(this.backgroundColor) : { r: 0, g: 0, b: 0, a: 0 }\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.colorPickerRef.open()\r\n\t\t\t},\r\n\t\t\tconfirmColor(e) {\r\n\t\t\t\tswitch (this.curColor) {\r\n\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\tthis.textColor = e.hex\r\n\t\t\t\t\t\tthis.editorCtx.format('color', this.textColor)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'backgroundColor':\r\n\t\t\t\t\t\tthis.backgroundColor = e.hex\r\n\t\t\t\t\t\tthis.editorCtx.format('backgroundColor', this.backgroundColor)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonStatusChange(e) {\r\n\t\t\t\tif (e.detail.color) {\r\n\t\t\t\t\tthis.textColor = e.detail.color\r\n\t\t\t\t}\r\n\t\t\t\tif (e.detail.backgroundColor) {\r\n\t\t\t\t\tthis.backgroundColor = e.detail.backgroundColor\r\n\t\t\t\t}\r\n\t\t\t\tthis.formats = e.detail\r\n\t\t\t},\r\n\t\t\tinsertDivider() {\r\n\t\t\t\tthis.editorCtx.insertDivider()\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '清空编辑器',\r\n\t\t\t\t\tcontent: '确定清空编辑器吗？',\r\n\t\t\t\t\tsuccess: ({ confirm }) => {\r\n\t\t\t\t\t\tif (confirm) {\r\n\t\t\t\t\t\t\tthis.editorCtx.clear()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tremoveFormat() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '文本格式化',\r\n\t\t\t\t\tcontent: '确定要清除所选择部分文本块格式吗？',\r\n\t\t\t\t\tshowCancel: true,\r\n\t\t\t\t\tsuccess: ({ confirm }) => {\r\n\t\t\t\t\t\tif (confirm) {\r\n\t\t\t\t\t\t\tthis.editorCtx.removeFormat()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinsertDate() {\r\n\t\t\t\tconst date = new Date()\r\n\t\t\t\tconst formatDate = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\r\n\t\t\t\tthis.editorCtx.insertText({ text: formatDate })\r\n\t\t\t},\r\n\t\t\tinsertLink() {\r\n\t\t\t\tthis.$refs.linkEditRef.open()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 确认添加链接\r\n\t\t\t * @param {Object} e { text: '链接描述', href: '链接地址' }\r\n\t\t\t */\r\n\t\t\tconfirmLink(e) {\r\n\t\t\t\tthis.$refs.linkEditRef.close()\r\n\t\t\t\taddLink(this.editorCtx, e, () => {\r\n\t\t\t\t\t// 修复添加超链接后，不触发input更新当前最新内容的bug，这里做一下手动更新\r\n\t\t\t\t\tthis.editorCtx.getContents({\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tthis.$emit('input', { html: res.html, text: res.text }, this.editorId)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.$emit('addLink', e, this.editorId)\r\n\t\t\t},\r\n\t\t\tinsertImage() {\r\n\t\t\t\t// #ifdef APP-PLUS || H5\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t// count: 1, // 默认9\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst { tempFiles } = res\r\n\t\t\t\t\t\t// 将文件和编辑器示例抛出，由开发者自行上传和插入图片\r\n\t\t\t\t\t\tthis.$emit('upinImage', tempFiles, this.editorCtx, this.editorId)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '未授权访问相册权限，请授权后使用',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t// 微信小程序从基础库 2.21.0 开始， wx.chooseImage 停止维护，请使用 uni.chooseMedia 代替。\r\n\t\t\t\tuni.chooseMedia({\r\n\t\t\t\t\t// count: 1, // 默认9\r\n\t\t\t\t\tmediaType: ['image'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// 同上chooseImage处理\r\n\t\t\t\t\t\tconst { tempFiles } = res\r\n\t\t\t\t\t\tthis.$emit('upinImage', tempFiles, this.editorCtx, this.editorId)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '未授权访问相册权限，请授权后使用',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tinsertVideo() {\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst { tempFilePath } = res\r\n\t\t\t\t\t\t// 将文件和编辑器示例抛出，由开发者自行上传和插入图片\r\n\t\t\t\t\t\tthis.$emit('upinVideo', tempFilePath, this.editorCtx, this.editorId)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '未授权访问媒体权限，请授权后使用',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonEditorInput(e) {\r\n\t\t\t\t// 注意不要使用getContents获取html和text，会导致重复触发onStatusChange从而失去toolbar工具的高亮状态\r\n\t\t\t\t// 复制粘贴的时候detail会为空，此时应当直接return\r\n\t\t\t\tif (Object.keys(e.detail).length <= 0) return\r\n\t\t\t\tconst { html, text } = e.detail\r\n\t\t\t\t// 识别到标识立即return\r\n\t\t\t\tif (text.indexOf(linkFlag) !== -1) return\r\n\r\n\t\t\t\tconst maxlength = parseInt(this.maxlength)\r\n\t\t\t\tconst textStr = text.replace(/[ \\t\\r\\n]/g, '')\r\n\t\t\t\tif (textStr.length > maxlength && maxlength != -1) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: `超过${maxlength}字数啦~`,\r\n\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tthis.$emit('overMax', { html, text }, this.editorId)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$emit('input', { html, text }, this.editorId)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\teLongpress() {\r\n\t\t\t\t/**\r\n\t\t\t\t * 微信小程序官方editor的长按事件有bug，需要重写覆盖，不需做任何逻辑，可见下面小程序社区问题链接\r\n\t\t\t\t * @tutorial https://developers.weixin.qq.com/community/develop/doc/000c04b3e1c1006f660065e4f61000\r\n\t\t\t\t */\r\n\t\t\t},\r\n\t\t\t// 全屏\r\n\t\t\tfullscreen() {\r\n\t\t\t\tthis.$emit('fullscreen', this.editorId)\r\n\t\t\t},\r\n\t\t\t// 导出\r\n\t\t\texportHtml() {\r\n\t\t\t\tthis.editorCtx.getContents({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.$emit('exportHtml', res.html, this.editorId)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取数据\r\n\t\t\tgetHtml() {\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tthis.editorCtx.getContents({\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(res.html)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\treject(\"\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '@/uni_modules/sp-editor/icons/editor-icon.css';\r\n\t@import '@/uni_modules/sp-editor/icons/custom-icon.css';\r\n\r\n\t.sp-editor {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tposition: relative;\r\n\t\tbackground: #ffffff;\r\n\t}\r\n\r\n\t.sp-editor-toolbar {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: calc(var(--icon-size) / 4) 0;\r\n\t\tborder-bottom: 1px solid #e4e4e4;\r\n\t\tfont-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(var(--icon-columns), 1fr);\r\n\t}\r\n\r\n\t.iconfont {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: calc(var(--icon-size) * 1.8);\r\n\t\tcursor: pointer;\r\n\t\tfont-size: var(--icon-size);\r\n\t}\r\n\r\n\t.sp-editor-wrapper {\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\tpadding-bottom: 112rpx;\r\n\t}\r\n\r\n\t.editor-container {\r\n\t\tpadding: 16rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\r\n\t.ql-image-overlay-none {\r\n\t\t::v-deep .ql-image-overlay {\r\n\t\t\tpointer-events: none;\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t::v-deep .ql-editor.ql-blank::before {\r\n\t\tfont-style: normal;\r\n\t\tcolor: #cccccc;\r\n\t}\r\n\r\n\t::v-deep .ql-container {\r\n\t\tmin-height: unset;\r\n\t}\r\n\r\n\t.ql-active {\r\n\t\tcolor: var(--theme-color);\r\n\t}\r\n\r\n\t.fab-tools {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 0 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.fab-sub {\r\n\t\t\twidth: auto;\r\n\t\t\theight: auto;\r\n\t\t\tmargin: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.submit-footer {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 96;\r\n\t\tbackground: #ffffff;\r\n\t\tpadding: 12rpx 16rpx;\r\n\t\tborder-top: 1rpx solid #F6F7FB;\r\n\t}\r\n\r\n\t.submit-footer .footer-btn {\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 32rpx;\r\n\t\tline-height: 44rpx;\r\n\t\tpadding: 22rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbackground: var(--theme-color);\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.submit-footer .footer-space {\r\n\t\twidth: 100%;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sp-editor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Tool_dev/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sp-editor.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}