<page-meta page-style="{{'overflow:'+(pageShow?'hidden':'visible')}}"></page-meta><view class="container" style="{{'--theme-color:'+(themeColor)+';'}}"><title-bar vue-id="9171214e-1" showBack="{{true}}" title="{{cardId?'编辑名片':'新建名片'}}" bind:__l="__l"></title-bar><block wx:if="{{loadEnd}}"><view class="container-main"><view class="main-card"><block wx:if="{{formData.card_background_image}}"><image class="card-image" src="{{formData.card_background_image}}" mode="aspectFill"></image></block><block wx:if="{{selectAvatar&&formData.is_hide_avatar!=1}}"><image class="card-avatar" src="{{selectAvatar}}" mode="aspectFill"></image></block><view class="card-name"><block wx:if="{{formData.name}}"><view class="name" style="{{'color:'+(formData.font_color)+';'}}">{{formData.name}}</view></block><block wx:if="{{formData.company_position}}"><view class="position" style="{{'color:'+(formData.font_color)+';'}}">{{formData.company_position}}</view></block></view><block wx:if="{{formData.company_name}}"><view class="card-company" style="{{'color:'+(formData.font_color)+';'}}">{{formData.company_name}}</view></block><block wx:if="{{$root.g0}}"><view class="card-business" style="{{'color:'+(formData.font_color)+';'}}"><block wx:for="{{mainBusiness}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text class="label" style="{{'color:'+(formData.font_color)+';'}}">{{item}}</text></block></view></block><block wx:if="{{formData.mobile}}"><view class="card-mobile"><block wx:if="{{formData.font_color=='#FFFFFF'}}"><image class="icon" src="/static/card/mobile_w.png" mode="aspectFit"></image></block><block wx:else><image class="icon" src="/static/card/mobile.png" mode="aspectFit"></image></block><text class="text" style="{{'color:'+(formData.font_color)+';'}}">{{formData.mobile}}</text></view></block><block wx:if="{{formData.company_address}}"><view class="card-address"><block wx:if="{{formData.font_color=='#FFFFFF'}}"><image class="icon" src="/static/card/location_w.png" mode="aspectFit"></image></block><block wx:else><image class="icon" src="/static/card/location.png" mode="aspectFit"></image></block><text class="text" style="{{'color:'+(formData.font_color)+';'}}">{{formData.company_address}}</text></view></block><view class="card-association"><image class="logo" src="{{appletLogo}}" mode="aspectFill"></image><text class="text" style="{{'color:'+(formData.font_color)+';'}}">{{appletName}}</text><block wx:if="{{userInfo&&userInfo.member_level_name}}"><text class="text" style="{{'color:'+(formData.font_color)+';'}}">{{userInfo.member_level_name}}</text></block></view></view><view class="main-form"><view class="form-group"><view class="group-item"><view class="item-head"><view class="head-title">名片样式</view><view data-event-opts="{{[['tap',[['toCustomBackground']]]]}}" class="head-btn" bindtap="__e"><view class="icon"><image src="/static/card/add.png" mode="aspectFit"></image></view><text class="text">上传自定义背景</text></view></view><scroll-view class="item-style" scroll-x="{{true}}" scroll-into-view="{{scrollIntoView}}"><block wx:if="{{customBackground}}"><view class="style-box" id="style-custom" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e"><image class="box-image" src="{{customBackground}}" mode="aspectFill"></image><block wx:if="{{formData.card_background_image===customBackground}}"><view class="box-select"><view class="select-icon"><image class="tick" src="/static/card/select.png" mode="aspectFit"></image></view></view></block></view></block><block wx:for="{{backgroundList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="style-box" id="{{'style-'+index}}" data-event-opts="{{[['tap',[['changeStyle',['$0'],[[['backgroundList','',index]]]]]]]}}" bindtap="__e"><image class="box-image" src="{{item.image}}" mode="aspectFill"></image><block wx:if="{{formData.card_background_image===item.image}}"><view class="box-select"><view class="select-icon"><image class="tick" src="/static/card/select.png" mode="aspectFit"></image></view></view></block></view></block></scroll-view></view></view><view class="form-group"><view class="group-item"><view class="item-title"><text style="color:#E60012;">*</text>分享标题</view><view class="item-input"><input class="input" type="text" placeholder="请填写分享标题" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0','share_title','$event',[]],['formData']]]]]}}" value="{{formData.share_title}}" bindinput="__e"/></view></view></view><view class="form-group"><view class="group-item"><view class="item-title">字体颜色</view><view data-event-opts="{{[['tap',[['openSelectPicker']]]]}}" class="item-input" bindtap="__e"><block wx:if="{{formData.font_color}}"><view class="input"><block wx:if="{{formData.font_color==='#FFFFFF'}}"><text>白色</text></block><block wx:else><text>黑色</text></block></view></block><image class="icon" src="/static/right.png" mode="aspectFit"></image></view></view></view><view class="form-group"><view class="group-item"><view class="item-title"><text style="color:#E60012;">*</text>名片姓名</view><view class="item-input"><input class="input" type="text" placeholder="请填写姓名" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['formData']]]]]}}" value="{{formData.name}}" bindinput="__e"/></view></view><view class="group-item"><view class="item-title"><text style="color:#E60012;">*</text>名片头像</view><view data-event-opts="{{[['tap',[['chooseAvatar']]]]}}" class="item-upload" bindtap="__e"><block wx:if="{{selectAvatar}}"><image class="upload-image" src="{{selectAvatar}}" mode="aspectFill"></image></block><block wx:else><view class="upload-box"><view class="box-icon"><view class="horizontal"></view><view class="vertical"></view></view><view class="box-text">上传图片</view></view></block><image class="upload-right" src="/static/card/right.png" mode="aspectFit"></image></view></view><view class="group-item"><view class="item-title">企业名称</view><view class="item-input"><input class="input" type="text" placeholder="请填写企业名称" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0','company_name','$event',[]],['formData']]]]]}}" value="{{formData.company_name}}" bindinput="__e"/></view></view><view class="group-item"><view class="item-title">担任职务</view><view class="item-input"><input class="input" type="text" placeholder="请填写担任职务" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0','company_position','$event',[]],['formData']]]]]}}" value="{{formData.company_position}}" bindinput="__e"/></view></view><view class="group-item"><view class="item-title">企业地址</view><view data-event-opts="{{[['tap',[['chooseLocation']]]]}}" class="item-input" bindtap="__e"><block wx:if="{{formData.company_address}}"><view class="input text-ellipsis">{{formData.company_address}}</view></block><block wx:else><view class="input placeholder text-ellipsis">请选择企业地址</view></block><image class="icon" src="/static/right.png" mode="aspectFit"></image></view></view><view class="group-item"><view class="item-title">主营业务</view><view class="item-list"><block wx:for="{{mainBusiness}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="list-label"><input class="input" maxlength="4" type="text" placeholder="请填写主营业务(最多4字)" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0',index,'$event',[]],['mainBusiness']]]]]}}" value="{{mainBusiness[index]}}" bindinput="__e"/><image class="icon" src="/static/card/delete.png" mode="aspectFit" data-event-opts="{{[['tap',[['deleteMainBusiness',[index]]]]]}}" bindtap="__e"></image></view></block><block wx:if="{{$root.g1<3}}"><view data-event-opts="{{[['tap',[['addMainBusiness',['$event']]]]]}}" class="list-add" bindtap="__e"><view class="add-icon"><image src="/static/card/add.png" mode="aspectFit"></image></view><text class="add-text">添加新的</text><view class="add-bg"></view></view></block></view></view><view class="group-item"><view class="item-title">联系电话</view><view class="item-input"><input class="input" type="number" maxlength="11" placeholder="请填写联系电话" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0','mobile','$event',[]],['formData']]]]]}}" value="{{formData.mobile}}" bindinput="__e"/></view></view><view class="group-item"><view class="item-title">微信号</view><view class="item-input"><input class="input" type="text" placeholder="请填写微信号" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['$0','wechat_number','$event',[]],['formData']]]]]}}" value="{{formData.wechat_number}}" bindinput="__e"/></view></view><view class="group-item"><view class="item-title">企业介绍</view><view data-event-opts="{{[['tap',[['toCardEditor']]]]}}" class="item-input" bindtap="__e"><block wx:if="{{formData.company_introduction}}"><view class="input text-ellipsis">{{$root.m0}}</view></block><block wx:else><view class="input placeholder text-ellipsis">编辑企业介绍</view></block><image class="icon" src="/static/right.png" mode="aspectFit"></image></view></view><view class="group-item"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="item-switch" bindtap="__e"><view class="switch-label">是否默认名片</view><view class="{{['switch-box',(formData.is_default==1)?'select':'']}}"><view class="round"></view></view></view></view><view class="group-item"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="item-switch" bindtap="__e"><view class="switch-label">隐藏名片头像</view><view class="{{['switch-box',(formData.is_hide_avatar==1)?'select':'']}}"><view class="round"></view></view></view></view><view class="group-item"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="item-switch" bindtap="__e"><view class="switch-label">微信号是否对外</view><view class="{{['switch-box',(formData.is_wechat_number_public==1)?'select':'']}}"><view class="round"></view></view></view></view></view></view><view class="main-footer"><view data-event-opts="{{[['tap',[['handleSubmit']]]]}}" class="footer-btn" bindtap="__e">保存名片</view><view class="safe-padding"></view></view></view></block><select-picker class="vue-ref" vue-id="9171214e-2" title="选择字体颜色" data-ref="selectPicker" data-event-opts="{{[['^onChange',[['pageChange']]],['^confirm',[['changeSelectPicker']]]]}}" bind:onChange="__e" bind:confirm="__e" bind:__l="__l"></select-picker><card-poster class="vue-ref" vue-id="9171214e-3" data-ref="cardPoster" bind:__l="__l"></card-poster></view>