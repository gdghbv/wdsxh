<view class="component-mall-order"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toDetails',['$0'],[[['showData','',index,'id']]]]]]]}}" class="order-item" bindtap="__e"><view class="item-top flex align-items-center"><view class="top-number flex-item">{{"订单编号："+item.$orig.order_no}}</view><view class="top-status"><block wx:if="{{item.$orig.state==1}}"><text style="color:#FF626E;">待付款</text></block><block wx:else><block wx:if="{{item.$orig.state==2}}"><text style="color:#FF9100;"><block wx:if="{{item.$orig.delivery_method==2}}"><text>待自提</text></block><block wx:else><text>待发货</text></block></text></block><block wx:else><block wx:if="{{item.$orig.state==3}}"><text style="{{'color:'+(themeColor)+';'}}">待收货</text></block><block wx:else><block wx:if="{{item.$orig.state==4}}"><text style="color:#979797;">已完成</text></block></block></block></block></view></view><view class="item-center"><block wx:if="{{item.g0==1}}"><view class="center-single flex"><image class="single-image" src="{{item.$orig.goods[0].image}}" mode="aspectFill"></image><view class="single-info flex-item"><view class="info-name text-ellipsis-more">{{item.$orig.goods[0].name}}</view><view class="info-box flex align-items-center"><view class="price flex-item" style="{{'color:'+(themeColor)+';'}}">{{"￥"+item.$orig.pay_price}}</view><view class="number">{{"×"+item.$orig.number}}</view></view></view></view></block><block wx:else><view class="center-multiple"><scroll-view class="multiple-list" scroll-x="{{true}}"><view class="list-goods"><block wx:for="{{item.$orig.goods}}" wx:for-item="goods" wx:for-index="__i0__" wx:key="id"><view class="goods-box"><image class="image" src="{{goods.image}}" mode="aspectFill"></image><view class="name text-ellipsis">{{goods.name}}</view></view></block></view></scroll-view><view class="multiple-total flex-direction-column flex-center"><view class="number">{{"×"+item.$orig.number}}</view><view class="price"><text>￥</text>{{item.$orig.pay_price}}</view></view></view></block></view><block wx:if="{{item.$orig.state!=4}}"><view class="item-bottom"><block wx:if="{{item.$orig.state==1}}"><view data-event-opts="{{[['tap',[['handlePayment',['$0','$1'],[[['showData','',index,'id']],[['showData','',index,'pay_price']]]]]]]}}" class="bottom-btn" style="{{'background:'+(themeColor)+';'}}" catchtap="__e">去支付</view></block><block wx:if="{{item.$orig.state==1}}"><view data-event-opts="{{[['tap',[['handleCancel',['$0'],[[['showData','',index,'id']]]]]]]}}" class="bottom-btn" style="background:#FF626E;" catchtap="__e">取消订单</view></block><block wx:if="{{item.$orig.state==2||item.$orig.state==3}}"><view data-event-opts="{{[['tap',[['handleRefund',['$0'],[[['showData','',index,'id']]]]]]]}}" class="bottom-btn" style="background:#FF626E;" catchtap="__e">申请退款</view></block><block wx:if="{{item.$orig.state==3}}"><view data-event-opts="{{[['tap',[['handleConfirm',['$0','$1'],[[['showData','',index,'id']],[['showData','',index,'trade_no']]]]]]]}}" class="bottom-btn" style="{{'background:'+(themeColor)+';'}}" catchtap="__e">确认收货</view></block></view></block></view></block></view>