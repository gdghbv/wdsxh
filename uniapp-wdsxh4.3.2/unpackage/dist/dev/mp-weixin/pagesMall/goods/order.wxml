<page-meta page-style="{{'overflow:'+(pageShow?'hidden':'visible')}}"></page-meta><view class="container" style="{{'--theme-color:'+(themeColor)+';'}}"><title-bar vue-id="77d1de34-1" showBack="{{true}}" title="订单确认" bind:__l="__l"></title-bar><block wx:if="{{loadEnd}}"><view class="container-main"><block wx:if="{{mallConfig.self_pickup_status==1}}"><view data-event-opts="{{[['tap',[['openDeliveryMethod',['$event']]]]]}}" class="main-method flex align-items-center" bindtap="__e"><view class="method-title">发货方式</view><view class="method-value flex-item">{{deliveryMethod==2?"到店自提":"快递发货"}}</view><image class="method-icon" src="/static/right.png" mode="aspectFit"></image></view></block><block wx:if="{{deliveryMethod==2}}"><view class="main-address"><view class="address-title">自提地址</view><view data-event-opts="{{[['tap',[['toNavigation']]]]}}" class="address-box flex align-items-center" bindtap="__e"><view class="box-text flex-item">{{mallConfig.address}}</view><block wx:if="{{iconMore}}"><view class="box-icon" style="{{'background-image:'+('url('+iconMore+')')+';'}}"></view></block></view><block wx:if="{{mallConfig.mobile}}"><view data-event-opts="{{[['tap',[['onContact']]]]}}" class="address-info flex flex-wrap" bindtap="__e">{{mallConfig.mobile}}</view></block></view></block><block wx:else><view data-event-opts="{{[['tap',[['chooseAddress']]]]}}" class="main-address" bindtap="__e"><view class="address-box flex align-items-center"><view class="box-text flex-item">{{addressData.address||"请选择收货地址"}}</view><block wx:if="{{iconMore}}"><view class="box-icon" style="{{'background-image:'+('url('+iconMore+')')+';'}}"></view></block></view><block wx:if="{{addressData.name&&addressData.tel}}"><view class="address-info flex flex-wrap"><text>{{addressData.name||""}}</text><text>{{addressData.tel||""}}</text></view></block></view></block><view class="main-goods"><block wx:for="{{goodsData}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><mall-store vue-id="{{'77d1de34-2-'+index}}" show-data="{{item}}" show-number="{{item.number}}" data-event-opts="{{[['^changeNumber',[['changeNumber',['$event',index]]]]]}}" bind:changeNumber="__e" bind:__l="__l"></mall-store></block></block></view><view class="main-cost"><view class="cost-info"><view class="title">商品总额</view><view class="value">{{"￥"+totalPrice}}</view></view><block wx:if="{{deliveryMethod==1}}"><view class="cost-info"><view class="title">运费总额</view><view class="value">{{"￥"+$root.g0}}</view></view></block></view><view class="main-footer"><view class="flex align-items-center"><view class="footer-money text-ellipsis-more"><text>￥</text>{{$root.m0}}</view><block wx:if="{{userMobile}}"><view data-event-opts="{{[['tap',[['submitOrder']]]]}}" class="footer-btn flex-item" bindtap="__e">提交订单</view></block><block wx:else><button class="footer-btn flex-item clear" open-type="getPhoneNumber" data-event-opts="{{[['getphonenumber',[['bindPhoneNumber',['$event']]]]]}}" bindgetphonenumber="__e">提交订单</button></block></view><view class="safe-padding"></view></view></view></block><select-picker class="vue-ref" vue-id="77d1de34-3" title="发货方式" data-ref="selectPicker" data-event-opts="{{[['^confirm',[['changeDeliveryMethod']]],['^onChange',[['pageChange']]]]}}" bind:confirm="__e" bind:onChange="__e" bind:__l="__l"></select-picker><address-modal class="vue-ref" bind:confirm="__e" bind:onChange="__e" vue-id="77d1de34-4" data-ref="addressModal" data-event-opts="{{[['^confirm',[['changeAddress']]],['^onChange',[['pageChange']]]]}}" bind:__l="__l"></address-modal><quantity-modal class="vue-ref" bind:confirm="__e" bind:onChange="__e" vue-id="77d1de34-5" data-ref="quantityModal" data-event-opts="{{[['^confirm',[['changeQuantity']]],['^onChange',[['pageChange']]]]}}" bind:__l="__l"></quantity-modal></view>