<view class="container" style="{{'--theme-color:'+(themeColor)+';'}}"><title-bar vue-id="2518b7fa-1" showBack="{{true}}" title="订单详情" bind:__l="__l"></title-bar><block wx:if="{{loadEnd}}"><view class="container-main" style="{{'padding-bottom:'+(orderInfo.state==1||orderInfo.state==2||orderInfo.state==3?'144rpx':'32rpx')+';'}}"><view class="main-status"><block wx:if="{{orderInfo.state==1}}"><block><view class="status-text">待付款</view><view class="status-tips flex align-items-center"><block wx:if="{{iconClock}}"><view class="icon" style="{{'background-image:'+('url('+iconClock+')')+';'}}"></view></block><view class="text">商品未付款,请及时付款</view></view></block></block><block wx:else><block wx:if="{{orderInfo.state==2}}"><block><view class="status-text"><block wx:if="{{orderInfo.delivery_method==2}}"><text>待自提</text></block><block wx:else><text>待发货</text></block></view><view class="status-tips flex align-items-center"><block wx:if="{{iconClock}}"><view class="icon" style="{{'background-image:'+('url('+iconClock+')')+';'}}"></view></block><view class="text"><block wx:if="{{orderInfo.delivery_method==2}}"><text>商品待自提</text></block><block wx:else><text>商品待发货</text></block></view></view></block></block><block wx:else><block wx:if="{{orderInfo.state==3}}"><block><view class="status-text">待收货</view><view class="status-tips flex align-items-center"><block wx:if="{{iconClock}}"><view class="icon" style="{{'background-image:'+('url('+iconClock+')')+';'}}"></view></block><view class="text">商品已发货,请及时收货</view></view></block></block><block wx:else><block wx:if="{{orderInfo.state==4}}"><block><view class="status-text">已完成</view><view class="status-tips flex align-items-center"><block wx:if="{{iconClock}}"><view class="icon" style="{{'background-image:'+('url('+iconClock+')')+';'}}"></view></block><view class="text">商品已完成收货</view></view></block></block></block></block></block></view><block wx:if="{{orderInfo.delivery_method==2}}"><view class="main-address"><view class="address-title">自提地址</view><view data-event-opts="{{[['tap',[['toNavigation']]]]}}" class="address-box flex align-items-center" bindtap="__e"><view class="box-text flex-item">{{mallConfig.address}}</view><block wx:if="{{iconMore}}"><view class="box-icon" style="{{'background-image:'+('url('+iconMore+')')+';'}}"></view></block></view><block wx:if="{{mallConfig.mobile}}"><view data-event-opts="{{[['tap',[['onContact']]]]}}" class="address-info flex flex-wrap" bindtap="__e">{{mallConfig.mobile}}</view></block></view></block><block wx:else><view class="main-address"><view class="address-name">{{orderInfo.user_address||""}}</view><block wx:if="{{orderInfo.real_name||orderInfo.user_phone}}"><view class="address-info flex flex-wrap"><block wx:if="{{orderInfo.real_name}}"><text>{{orderInfo.real_name}}</text></block><block wx:if="{{orderInfo.user_phone}}"><text>{{orderInfo.user_phone}}</text></block></view></block></view></block><block wx:if="{{orderInfo.delivery_method==2&&orderInfo.pick_up_code}}"><view class="main-code"><view class="code">{{orderInfo.pick_up_code}}</view><view class="label">提货码</view></view></block><view class="main-goods"><block wx:for="{{orderInfo.goods}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><mall-store vue-id="{{'2518b7fa-2-'+index}}" show-data="{{item}}" bind:__l="__l"></mall-store></block></block></view><view class="main-order"><view class="order-info"><view class="title">商品总额</view><view class="value">{{"￥"+(orderInfo.goods_price||'')}}</view></view><block wx:if="{{orderInfo.delivery_method==1}}"><view class="order-info"><view class="title">运费总额</view><view class="value">{{"￥"+(orderInfo.pay_postage||'0.00')}}</view></view></block><view class="order-info"><view class="title">总计金额</view><view class="value">{{"￥"+(orderInfo.total_price||'0.00')}}</view></view><block wx:if="{{orderInfo.delivery_method==2}}"><view class="order-info"><view class="title">发货方式</view><view class="value" style="color:#5A5B6E;">到店自提</view></view></block></view><block wx:if="{{orderInfo.state==1||orderInfo.state==2||orderInfo.state==3}}"><view class="main-footer"><block wx:if="{{orderInfo.state==1}}"><view class="flex align-items-center"><view class="footer-money"><text>￥</text>{{orderInfo.total_price}}</view><view data-event-opts="{{[['tap',[['handlePayment']]]]}}" class="footer-btn flex-item" style="{{'background:'+(themeColor)+';'}}" bindtap="__e">立即支付</view><view data-event-opts="{{[['tap',[['handleCancel']]]]}}" class="footer-btn flex-item" style="background:#FF626E;" bindtap="__e">取消订单</view></view></block><block wx:if="{{orderInfo.state==2}}"><view class="flex align-items-center"><view data-event-opts="{{[['tap',[['handleRefund']]]]}}" class="footer-btn flex-item" style="background:#FF626E;" bindtap="__e">申请退款</view></view></block><block wx:if="{{orderInfo.state==3}}"><view class="flex align-items-center"><view data-event-opts="{{[['tap',[['handleRefund']]]]}}" class="footer-btn flex-item" style="background:#FF626E;" bindtap="__e">申请退款</view><view data-event-opts="{{[['tap',[['handleDelivery']]]]}}" class="footer-btn flex-item" style="{{'background:'+(themeColor)+';'}}" bindtap="__e">确认收货</view></view></block><view class="safe-padding"></view></view></block></view></block></view>